# Chronicle

Chronicle è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º LLM Agent æ‰“é€ çš„**ä»»åŠ¡ç®¡ç†ä¸è¿½è¸ªç³»ç»Ÿ (Agent-Centric Task Management System)**ã€‚
ç³»ç»Ÿæä¾›äº†ä¸€ç»„ç¨³å®šã€åŸå­åŒ–çš„åå° APIï¼Œæ¥ç®¡ç”¨æˆ·çš„æ—¥å¸¸ä»»åŠ¡æ‹†è§£ã€è¿›åº¦è¿½è¸ªä¸æ—¥å¿—è®°å½•ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å‰ç«¯ç½‘é¡µç•Œé¢è¿›è¡Œç®¡ç†ã€‚

æ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼š
1. **é˜²æ­¢å¹»è§‰ï¼š** é€šè¿‡æç®€çš„åˆ—è¡¨æ¥å£è®© Agent è·å–çœŸå® IDï¼›é€šè¿‡å¤åˆæ¥å£ä¿è¯çŠ¶æ€æ›´æ–°ä¸æ—¥å¿—è®°å½•çš„åŸå­æ€§ï¼ˆæ•°æ®åº“äº‹åŠ¡ï¼‰ã€‚
2. **è‡ªåŠ¨åŒ–å½’æ¡£ï¼š** æä¾›æœºå™¨å‹å¥½çš„ JSON æ—¥æŠ¥æ¥å£ï¼ˆä¾› Agent å†™æ€»ç»“ï¼‰ï¼Œä»¥åŠäººç±»å‹å¥½çš„ Markdown å¯¼å‡ºæ¥å£ï¼ˆä¾› Obsidian æˆ–å…¶ä»–ç¬”è®°è½¯ä»¶å†·å¤‡ï¼‰ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **Agent-Friendly API**: ä¸“é—¨è®¾è®¡çš„é˜²æ­¢å¤§æ¨¡å‹äº§ç”Ÿå¹»è§‰çš„æ¥å£æ ¼å¼ï¼Œä¸¥æ ¼é™åˆ¶ Token æ¶ˆè€—ã€‚
- ğŸ”„ **åŸå­åŒ–äº‹åŠ¡**: çŠ¶æ€æµè½¬å’Œæ—¥å¿—è®°å½•ç¡®ä¿æ•°æ®åº“å±‚é¢çš„å¼ºä¸€è‡´æ€§ï¼Œé¿å…è„æ•°æ®ã€‚
- ğŸ“Š **ç®€å•æ˜“ç”¨çš„ UI**: è‡ªå¸¦åŸºäº TailwindCSS æ„å»ºçš„å¯è§†åŒ–å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒæŸ¥çœ‹ä»»åŠ¡ã€å½•å…¥è¿›åº¦ã€æŸ¥çœ‹å†å²ä»¥åŠç”Ÿæˆæ—¥æŠ¥ã€‚
- ğŸ“ **Markdown å¯¼å‡º**: æ¯æ—¥ä»»åŠ¡å¯ç›´æ¥å¯¼å‡ºä¸º Markdown æ ¼å¼ï¼Œå®Œç¾å…¼å®¹ Obsidian ç­‰æœ¬åœ°çŸ¥è¯†åº“è½¯ä»¶ã€‚
- ğŸ“¦ **è½»é‡çº§**: ä½¿ç”¨ Go å’Œ SQLite æ„å»ºï¼Œä»…éœ€å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶å³å¯è¿è¡Œï¼Œæ— éœ€å¤æ‚çš„ç¯å¢ƒä¾èµ–ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

- **åç«¯**: Golang, Gin æ¡†æ¶, GORM
- **æ•°æ®åº“**: SQLite (æœ¬åœ°å•æ–‡ä»¶å­˜å‚¨)
- **å‰ç«¯**: Vue 3, Vite, Tailwind CSS v4

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
.
â”œâ”€â”€ cmd/server/main.go            # å¯åŠ¨æ§åˆ¶ç‚¹ï¼Œå­˜æ”¾ HTTP è·¯ç”±å’Œåº”ç”¨åˆå§‹åŒ–é€»è¾‘
â”œâ”€â”€ internal/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ handler/                  # HTTP è¯·æ±‚å¤„ç†ä¸å“åº” (Controller)
â”‚   â”œâ”€â”€ model/                    # GORM å®ä½“ä¸æ¥å£ DTO
â”‚   â””â”€â”€ service/                  # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (äº‹åŠ¡å¤„ç†ã€çŠ¶æ€æœºç­‰)
â”œâ”€â”€ frontend/                     # ç°ä»£å‰ç«¯ Vue 3 å·¥ç¨‹ç›®å½•
â”‚   â”œâ”€â”€ src/                      # Vue ç»„ä»¶å’Œä¸»å…¥å£
â”‚   â”œâ”€â”€ package.json              # Node.js ä¾èµ–é…ç½®
â”‚   â””â”€â”€ dist/                     # Vite æ„å»ºè¾“å‡ºç›®å½• (Go Server é€šè¿‡é™æ€ä»£ç†æœåŠ¡è¯¥ç›®å½•)
â”œâ”€â”€ templates/                    # Go Template æ¨¡æ¿ç›®å½•
â”‚   â””â”€â”€ obsidian_task.tmpl        # å¯¼å‡ºä¸º Obsidian Markdown çš„æ¸²æŸ“æ¨¡æ¿
â”œâ”€â”€ data/                         # æ•°æ®åº“æ–‡ä»¶å­˜æ”¾ç›®å½• (è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆ)
â”‚   â””â”€â”€ app.db                    # SQLite æœ¬åœ°åº“
â””â”€â”€ bin/                          # äºŒè¿›åˆ¶ç¼–è¯‘è¾“å‡ºç›®å½•
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

è¯·ç¡®ä¿æ‚¨æœ¬åœ°å·²ç»å®‰è£…äº†ï¼š
- [Golang](https://go.dev/dl/) (ç‰ˆæœ¬å»ºè®® >= 1.20)
- [Node.js](https://nodejs.org/) (ç‰ˆæœ¬å»ºè®® >= 18) å’Œ npm

### 2. æ„å»ºå‰ç«¯é¡µé¢

å› ä¸ºä½¿ç”¨äº†ç°ä»£åŒ–çš„ Vite + Vue 3 æ¶æ„ï¼Œåœ¨è¿è¡Œ Go æœåŠ¡å‰ï¼Œå¿…é¡»å…ˆç¼–è¯‘å‰ç«¯èµ„æºï¼š

```bash
cd frontend
npm install
npm run build
cd ..
```
*(ç¼–è¯‘åçš„äº§ç‰©ä¼šå­˜æ”¾åœ¨ `frontend/dist` è®°å½•ä¸­ï¼Œå¹¶ä¸”è‡ªåŠ¨ç”±åç«¯çš„ Go æœåŠ¡æä¾›ä»£ç†è®¿é—®)*

### 3. ä¸‹è½½åç«¯ä¾èµ–å¹¶è¿è¡ŒæœåŠ¡

```bash
go mod tidy
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œé»˜è®¤ç«¯å£ä¸º 8080
go run cmd/server/main.go
```

æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ä¸»æ“ä½œç•Œé¢ï¼š http://localhost:8080/

### 4. ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶

å¦‚æœæ‚¨æƒ³å°†ç³»ç»Ÿç¼–è¯‘ä¸ºä¸€ä¸ªç‹¬ç«‹çš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨åå°è¿è¡Œï¼š

```bash
go build -o bin/server cmd/server/main.go
./bin/server
```

## ğŸ¤– æ¥å£è¯´æ˜ (ä¾› Agent ä½¿ç”¨)

ç³»ç»Ÿä¸»è¦æä¾›äº†ä»¥ä¸‹å‡ ç±»æ ¸å¿ƒæ¥å£ï¼ˆè¯¦ç»† Schema è¯·å‚è€ƒ `DESIGIN.md`ï¼‰ï¼š

1. **è·å–ä»»åŠ¡åˆ—è¡¨**: `GET /api/v1/tasks?status=in-progress,todo` (ä»…è¿”å›ç²¾ç®€ä¿¡æ¯ï¼Œé˜²æ­¢ Token çˆ†ç‚¸)
2. **åˆ›å»ºæ–°ä»»åŠ¡**: `POST /api/v1/tasks`
3. **è¿½åŠ æ‰§è¡Œæ—¥å¿—å¹¶æ ‡è®°è¿›åº¦**: `POST /api/v1/tasks/:id/progress` (å¤åˆæ›´æ–°ï¼Œä¿è¯åŸå­æ€§)
4. **è·å–æ¯æ—¥ JSON æ€»ç»“**: `GET /api/v1/reports/daily-summary?date=YY-MM-DD`
5. **è·å– Markdown å¯¼å‡º**: `GET /api/v1/exports/daily-markdown?date=YY-MM-DD`
